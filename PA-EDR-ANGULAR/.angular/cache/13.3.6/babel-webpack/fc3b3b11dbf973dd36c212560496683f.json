{"ast":null,"code":"import _asyncToGenerator from \"/root/ProjetAnnuel/PA-EDR-ANGULAR/PA-EDR-ANGULAR/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpParams } from '@angular/common/http';\nimport { TimestampModule } from \"src/tools/timestamp/timestamp.module\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/service/edr/edr.service\";\nexport class EdrComponent {\n  constructor(formBuilder, EDR_SERVICE) {\n    this.formBuilder = formBuilder;\n    this.EDR_SERVICE = EDR_SERVICE;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.getDataEdr(new HttpParams());\n\n      _this.initGrpFormEdr();\n    })();\n  }\n  /*\n  id\n  data_type\n  computer_windows_id\n  min\n  max\n  */\n\n\n  initGrpFormEdr() {\n    this.FORM_GRP_GET_EDR = this.formBuilder.group({\n      id: [\"\"],\n      data_type: [\"\"],\n      computer_windows_id: [\"\"],\n      min_date: [\"\"],\n      min_time: [\"\"],\n      max_date: [\"\"],\n      max_time: [\"\"]\n    });\n  }\n\n  onSubmitFormEdr() {\n    console.log(this.FORM_GRP_GET_EDR.value);\n    let params = new HttpParams();\n\n    if (this.FORM_GRP_GET_EDR.value.id != \"\") {\n      params = params.append(\"id\", this.FORM_GRP_GET_EDR.value.id);\n    }\n\n    if (this.FORM_GRP_GET_EDR.value.data_type != \"\") {\n      params = params.append(\"data_type\", this.FORM_GRP_GET_EDR.value.data_type);\n    }\n\n    if (this.FORM_GRP_GET_EDR.value.computer_windows_id != \"\") {\n      params = params.append(\"computer_windows_id\", this.FORM_GRP_GET_EDR.value.computer_windows_id);\n    }\n\n    if (this.FORM_GRP_GET_EDR.value.min_date != \"\") {\n      let date_time_min = this.FORM_GRP_GET_EDR.value.min_time == \"\" ? this.FORM_GRP_GET_EDR.value.min_date : this.FORM_GRP_GET_EDR.value.min_date + \" \" + this.FORM_GRP_GET_EDR.value.min_time;\n      let timestamp_min = TimestampModule.scheduleToTimestamp(date_time_min);\n      params = params.append(\"min\", timestamp_min);\n    }\n\n    if (this.FORM_GRP_GET_EDR.value.max_date != \"\") {\n      let date_time_max = this.FORM_GRP_GET_EDR.value.max_time == \"\" ? this.FORM_GRP_GET_EDR.value.max_date : this.FORM_GRP_GET_EDR.value.max_date + \" \" + this.FORM_GRP_GET_EDR.value.max_time;\n      let timestamp_max = TimestampModule.scheduleToTimestamp(date_time_max);\n      params = params.append(\"max\", timestamp_max);\n    }\n\n    console.log(\"params ----> \", params);\n    this.getDataEdr(params);\n  }\n\n  getDataEdr(params) {\n    this.EDR_SERVICE.getEdrData(params).subscribe(response => {\n      var _a;\n\n      this.IN_EDR_DATA = response;\n\n      if (this.IN_EDR_DATA.success) {\n        (_a = this.IN_EDR_DATA.body) === null || _a === void 0 ? void 0 : _a.forEach(data => {\n          data.created_timestamp = TimestampModule.timestampToSchedule(parseInt(data.created_timestamp));\n        });\n      }\n    });\n  }\n\n}\n\nEdrComponent.ɵfac = function EdrComponent_Factory(t) {\n  return new (t || EdrComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EdrService));\n};\n\nEdrComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EdrComponent,\n  selectors: [[\"app-edr\"]],\n  inputs: {\n    IN_EDR_DATA: \"IN_EDR_DATA\"\n  },\n  decls: 38,\n  vars: 0,\n  consts: [[1, \"container-fluid\", \"my-4\"], [1, \"my-5\", \"h4\"], [1, \"border\", \"border-danger\", \"p-4\", \"rounded\", \"w-50\"], [1, \"md-form\", \"form-group\"], [\"for\", \"id\"], [\"type\", \"text\", \"id\", \"id\", \"placeholder\", \"Id of the computer\", 1, \"form-control\"], [\"for\", \"data_type\"], [\"type\", \"text\", \"id\", \"data_type\", \"placeholder\", \"data to get\", 1, \"form-control\"], [\"for\", \"computer_id\"], [\"type\", \"text\", \"id\", \"computer_id\", \"placeholder\", \"Id of the computer\", 1, \"form-control\"], [\"for\", \"min_date\"], [\"type\", \"date\", \"id\", \"min_date\", \"formControlName\", \"min_date\", 1, \"form-control\"], [\"type\", \"time\", \"id\", \"min_time\", \"formControlName\", \"min_time\", 1, \"form-control\"], [\"for\", \"max_date\"], [\"type\", \"date\", \"id\", \"max_date\", \"formControlName\", \"max_date\", 1, \"form-control\"], [\"type\", \"time\", \"id\", \"max_time\", \"formControlName\", \"max_time\", 1, \"form-control\"], [1, \"action-buttons\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mb-3\", 3, \"click\"], [1, \"my-4\"]],\n  template: function EdrComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n      i0.ɵɵtext(2, \"Sp\\u00E9cifier le poste \\u00E0 v\\u00E9rifier (si vide, v\\u00E9rification de tous les postes) :\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"label\", 4)(6, \"strong\");\n      i0.ɵɵtext(7, \"Id\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6)(11, \"strong\");\n      i0.ɵɵtext(12, \"data_type\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(13, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 3)(15, \"label\", 8)(16, \"strong\");\n      i0.ɵɵtext(17, \"Computer id\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 3)(20, \"label\", 10)(21, \"strong\");\n      i0.ɵɵtext(22, \"min date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"input\", 11)(24, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 3)(26, \"label\", 13)(27, \"strong\");\n      i0.ɵɵtext(28, \"max date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(29, \"input\", 14)(30, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"br\");\n      i0.ɵɵelementStart(32, \"div\", 16)(33, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function EdrComponent_Template_button_click_33_listener() {\n        return ctx.onSubmitFormEdr();\n      });\n      i0.ɵɵtext(34, \"Submit\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(35, \"hr\", 18);\n      i0.ɵɵelementStart(36, \"h4\", 1);\n      i0.ɵɵtext(37, \"R\\u00E9sultats :\");\n      i0.ɵɵelementEnd()();\n    }\n  },\n  directives: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZHIuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["/root/ProjetAnnuel/PA-EDR-ANGULAR/PA-EDR-ANGULAR/src/app/edr/edr.component.ts"],"names":["HttpParams","TimestampModule","i0","i1","i2","EdrComponent","constructor","formBuilder","EDR_SERVICE","ngOnInit","getDataEdr","initGrpFormEdr","FORM_GRP_GET_EDR","group","id","data_type","computer_windows_id","min_date","min_time","max_date","max_time","onSubmitFormEdr","console","log","value","params","append","date_time_min","timestamp_min","scheduleToTimestamp","date_time_max","timestamp_max","getEdrData","subscribe","response","_a","IN_EDR_DATA","success","body","forEach","data","created_timestamp","timestampToSchedule","parseInt","ɵfac","EdrComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","EdrService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","EdrComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","EdrComponent_Template_button_click_33_listener","directives","DefaultValueAccessor","NgControlStatus","FormControlName","styles"],"mappings":";AAAA,SAASA,UAAT,QAA2B,sBAA3B;AACA,SAASC,eAAT,QAAgC,sCAAhC;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6BAApB;AACA,OAAO,MAAMC,YAAN,CAAmB;AACtBC,EAAAA,WAAW,CAACC,WAAD,EAAcC,WAAd,EAA2B;AAClC,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACH;;AACKC,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,MAAA,KAAI,CAACC,UAAL,CAAgB,IAAIV,UAAJ,EAAhB;;AACA,MAAA,KAAI,CAACW,cAAL;AAFa;AAGhB;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACIA,EAAAA,cAAc,GAAG;AACb,SAAKC,gBAAL,GAAwB,KAAKL,WAAL,CAAiBM,KAAjB,CAAuB;AAC3CC,MAAAA,EAAE,EAAE,CAAC,EAAD,CADuC;AAE3CC,MAAAA,SAAS,EAAE,CAAC,EAAD,CAFgC;AAG3CC,MAAAA,mBAAmB,EAAE,CAAC,EAAD,CAHsB;AAI3CC,MAAAA,QAAQ,EAAE,CAAC,EAAD,CAJiC;AAK3CC,MAAAA,QAAQ,EAAE,CAAC,EAAD,CALiC;AAM3CC,MAAAA,QAAQ,EAAE,CAAC,EAAD,CANiC;AAO3CC,MAAAA,QAAQ,EAAE,CAAC,EAAD;AAPiC,KAAvB,CAAxB;AASH;;AACDC,EAAAA,eAAe,GAAG;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,gBAAL,CAAsBY,KAAlC;AACA,QAAIC,MAAM,GAAG,IAAIzB,UAAJ,EAAb;;AACA,QAAI,KAAKY,gBAAL,CAAsBY,KAAtB,CAA4BV,EAA5B,IAAkC,EAAtC,EAA0C;AACtCW,MAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoB,KAAKd,gBAAL,CAAsBY,KAAtB,CAA4BV,EAAhD,CAAT;AACH;;AACD,QAAI,KAAKF,gBAAL,CAAsBY,KAAtB,CAA4BT,SAA5B,IAAyC,EAA7C,EAAiD;AAC7CU,MAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAc,WAAd,EAA2B,KAAKd,gBAAL,CAAsBY,KAAtB,CAA4BT,SAAvD,CAAT;AACH;;AACD,QAAI,KAAKH,gBAAL,CAAsBY,KAAtB,CAA4BR,mBAA5B,IAAmD,EAAvD,EAA2D;AACvDS,MAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAc,qBAAd,EAAqC,KAAKd,gBAAL,CAAsBY,KAAtB,CAA4BR,mBAAjE,CAAT;AACH;;AACD,QAAI,KAAKJ,gBAAL,CAAsBY,KAAtB,CAA4BP,QAA5B,IAAwC,EAA5C,EAAgD;AAC5C,UAAIU,aAAa,GAAG,KAAKf,gBAAL,CAAsBY,KAAtB,CAA4BN,QAA5B,IAAwC,EAAxC,GAA6C,KAAKN,gBAAL,CAAsBY,KAAtB,CAA4BP,QAAzE,GAAoF,KAAKL,gBAAL,CAAsBY,KAAtB,CAA4BP,QAA5B,GAAuC,GAAvC,GAA6C,KAAKL,gBAAL,CAAsBY,KAAtB,CAA4BN,QAAjL;AACA,UAAIU,aAAa,GAAG3B,eAAe,CAAC4B,mBAAhB,CAAoCF,aAApC,CAApB;AACAF,MAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAc,KAAd,EAAqBE,aAArB,CAAT;AACH;;AACD,QAAI,KAAKhB,gBAAL,CAAsBY,KAAtB,CAA4BL,QAA5B,IAAwC,EAA5C,EAAgD;AAC5C,UAAIW,aAAa,GAAG,KAAKlB,gBAAL,CAAsBY,KAAtB,CAA4BJ,QAA5B,IAAwC,EAAxC,GAA6C,KAAKR,gBAAL,CAAsBY,KAAtB,CAA4BL,QAAzE,GAAoF,KAAKP,gBAAL,CAAsBY,KAAtB,CAA4BL,QAA5B,GAAuC,GAAvC,GAA6C,KAAKP,gBAAL,CAAsBY,KAAtB,CAA4BJ,QAAjL;AACA,UAAIW,aAAa,GAAG9B,eAAe,CAAC4B,mBAAhB,CAAoCC,aAApC,CAApB;AACAL,MAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAc,KAAd,EAAqBK,aAArB,CAAT;AACH;;AACDT,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BE,MAA7B;AACA,SAAKf,UAAL,CAAgBe,MAAhB;AACH;;AACDf,EAAAA,UAAU,CAACe,MAAD,EAAS;AACf,SAAKjB,WAAL,CAAiBwB,UAAjB,CAA4BP,MAA5B,EAAoCQ,SAApC,CAA8CC,QAAQ,IAAI;AACtD,UAAIC,EAAJ;;AACA,WAAKC,WAAL,GAAmBF,QAAnB;;AACA,UAAI,KAAKE,WAAL,CAAiBC,OAArB,EAA8B;AAC1B,SAACF,EAAE,GAAG,KAAKC,WAAL,CAAiBE,IAAvB,MAAiC,IAAjC,IAAyCH,EAAE,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,EAAE,CAACI,OAAH,CAAYC,IAAD,IAAU;AACnFA,UAAAA,IAAI,CAACC,iBAAL,GAAyBxC,eAAe,CAACyC,mBAAhB,CAAoCC,QAAQ,CAACH,IAAI,CAACC,iBAAN,CAA5C,CAAzB;AACH,SAFiE,CAAlE;AAGH;AACJ,KARD;AASH;;AA9DqB;;AAgE1BpC,YAAY,CAACuC,IAAb,GAAoB,SAASC,oBAAT,CAA8BC,CAA9B,EAAiC;AAAE,SAAO,KAAKA,CAAC,IAAIzC,YAAV,EAAwBH,EAAE,CAAC6C,iBAAH,CAAqB5C,EAAE,CAAC6C,WAAxB,CAAxB,EAA8D9C,EAAE,CAAC6C,iBAAH,CAAqB3C,EAAE,CAAC6C,UAAxB,CAA9D,CAAP;AAA4G,CAAnK;;AACA5C,YAAY,CAAC6C,IAAb,GAAoB,aAAchD,EAAE,CAACiD,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE/C,YAAR;AAAsBgD,EAAAA,SAAS,EAAE,CAAC,CAAC,SAAD,CAAD,CAAjC;AAAgDC,EAAAA,MAAM,EAAE;AAAElB,IAAAA,WAAW,EAAE;AAAf,GAAxD;AAAwFmB,EAAAA,KAAK,EAAE,EAA/F;AAAmGC,EAAAA,IAAI,EAAE,CAAzG;AAA4GC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,iBAAJ,EAAuB,MAAvB,CAAD,EAAiC,CAAC,CAAD,EAAI,MAAJ,EAAY,IAAZ,CAAjC,EAAoD,CAAC,CAAD,EAAI,QAAJ,EAAc,eAAd,EAA+B,KAA/B,EAAsC,SAAtC,EAAiD,MAAjD,CAApD,EAA8G,CAAC,CAAD,EAAI,SAAJ,EAAe,YAAf,CAA9G,EAA4I,CAAC,KAAD,EAAQ,IAAR,CAA5I,EAA2J,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B,aAA7B,EAA4C,oBAA5C,EAAkE,CAAlE,EAAqE,cAArE,CAA3J,EAAiP,CAAC,KAAD,EAAQ,WAAR,CAAjP,EAAuQ,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,WAAvB,EAAoC,aAApC,EAAmD,aAAnD,EAAkE,CAAlE,EAAqE,cAArE,CAAvQ,EAA6V,CAAC,KAAD,EAAQ,aAAR,CAA7V,EAAqX,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,aAAvB,EAAsC,aAAtC,EAAqD,oBAArD,EAA2E,CAA3E,EAA8E,cAA9E,CAArX,EAAod,CAAC,KAAD,EAAQ,UAAR,CAApd,EAAye,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,UAAvB,EAAmC,iBAAnC,EAAsD,UAAtD,EAAkE,CAAlE,EAAqE,cAArE,CAAze,EAA+jB,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,UAAvB,EAAmC,iBAAnC,EAAsD,UAAtD,EAAkE,CAAlE,EAAqE,cAArE,CAA/jB,EAAqpB,CAAC,KAAD,EAAQ,UAAR,CAArpB,EAA0qB,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,UAAvB,EAAmC,iBAAnC,EAAsD,UAAtD,EAAkE,CAAlE,EAAqE,cAArE,CAA1qB,EAAgwB,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,EAAuB,UAAvB,EAAmC,iBAAnC,EAAsD,UAAtD,EAAkE,CAAlE,EAAqE,cAArE,CAAhwB,EAAs1B,CAAC,CAAD,EAAI,gBAAJ,CAAt1B,EAA62B,CAAC,MAAD,EAAS,QAAT,EAAmB,CAAnB,EAAsB,KAAtB,EAA6B,aAA7B,EAA4C,MAA5C,EAAoD,CAApD,EAAuD,OAAvD,CAA72B,EAA86B,CAAC,CAAD,EAAI,MAAJ,CAA96B,CAApH;AAAgjCC,EAAAA,QAAQ,EAAE,SAASC,qBAAT,CAA+BC,EAA/B,EAAmCC,GAAnC,EAAwC;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC/pC1D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,IAAlC,EAAwC,CAAxC;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,CAAV,EAAa,gGAAb;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,OAA/C,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,QAA9D;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,CAAV,EAAa,IAAb;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,CAAzB;AACA/D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,OAAnC,EAA4C,CAA5C,EAA+C,EAA/C,EAAmD,QAAnD;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,WAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA/D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,CAA7C,EAAgD,EAAhD,EAAoD,QAApD;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,aAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA/D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,EAA7C,EAAiD,EAAjD,EAAqD,QAArD;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,UAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,OAAlC,EAA2C,EAA3C;AACA/D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,EAA7C,EAAiD,EAAjD,EAAqD,QAArD;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,UAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,OAAlC,EAA2C,EAA3C;AACA/D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,IAAjB;AACA/D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,QAArC,EAA+C,EAA/C;AACA5D,MAAAA,EAAE,CAACgE,UAAH,CAAc,OAAd,EAAuB,SAASC,8CAAT,GAA0D;AAAE,eAAON,GAAG,CAACxC,eAAJ,EAAP;AAA+B,OAAlH;AACAnB,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,QAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACA9D,MAAAA,EAAE,CAAC+D,SAAH,CAAa,EAAb,EAAiB,IAAjB,EAAuB,EAAvB;AACA/D,MAAAA,EAAE,CAAC4D,cAAH,CAAkB,EAAlB,EAAsB,IAAtB,EAA4B,CAA5B;AACA5D,MAAAA,EAAE,CAAC6D,MAAH,CAAU,EAAV,EAAc,kBAAd;AACA7D,MAAAA,EAAE,CAAC8D,YAAH;AACH;AAAE,GAtCgD;AAsC9CI,EAAAA,UAAU,EAAE,CAACjE,EAAE,CAACkE,oBAAJ,EAA0BlE,EAAE,CAACmE,eAA7B,EAA8CnE,EAAE,CAACoE,eAAjD,CAtCkC;AAsCiCC,EAAAA,MAAM,EAAE,CAAC,qKAAD;AAtCzC,CAArB,CAAlC","sourcesContent":["import { HttpParams } from '@angular/common/http';\nimport { TimestampModule } from \"src/tools/timestamp/timestamp.module\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/service/edr/edr.service\";\nexport class EdrComponent {\n    constructor(formBuilder, EDR_SERVICE) {\n        this.formBuilder = formBuilder;\n        this.EDR_SERVICE = EDR_SERVICE;\n    }\n    async ngOnInit() {\n        this.getDataEdr(new HttpParams());\n        this.initGrpFormEdr();\n    }\n    /*\n    id\n    data_type\n    computer_windows_id\n    min\n    max\n    */\n    initGrpFormEdr() {\n        this.FORM_GRP_GET_EDR = this.formBuilder.group({\n            id: [\"\"],\n            data_type: [\"\"],\n            computer_windows_id: [\"\"],\n            min_date: [\"\"],\n            min_time: [\"\"],\n            max_date: [\"\"],\n            max_time: [\"\"]\n        });\n    }\n    onSubmitFormEdr() {\n        console.log(this.FORM_GRP_GET_EDR.value);\n        let params = new HttpParams();\n        if (this.FORM_GRP_GET_EDR.value.id != \"\") {\n            params = params.append(\"id\", this.FORM_GRP_GET_EDR.value.id);\n        }\n        if (this.FORM_GRP_GET_EDR.value.data_type != \"\") {\n            params = params.append(\"data_type\", this.FORM_GRP_GET_EDR.value.data_type);\n        }\n        if (this.FORM_GRP_GET_EDR.value.computer_windows_id != \"\") {\n            params = params.append(\"computer_windows_id\", this.FORM_GRP_GET_EDR.value.computer_windows_id);\n        }\n        if (this.FORM_GRP_GET_EDR.value.min_date != \"\") {\n            let date_time_min = this.FORM_GRP_GET_EDR.value.min_time == \"\" ? this.FORM_GRP_GET_EDR.value.min_date : this.FORM_GRP_GET_EDR.value.min_date + \" \" + this.FORM_GRP_GET_EDR.value.min_time;\n            let timestamp_min = TimestampModule.scheduleToTimestamp(date_time_min);\n            params = params.append(\"min\", timestamp_min);\n        }\n        if (this.FORM_GRP_GET_EDR.value.max_date != \"\") {\n            let date_time_max = this.FORM_GRP_GET_EDR.value.max_time == \"\" ? this.FORM_GRP_GET_EDR.value.max_date : this.FORM_GRP_GET_EDR.value.max_date + \" \" + this.FORM_GRP_GET_EDR.value.max_time;\n            let timestamp_max = TimestampModule.scheduleToTimestamp(date_time_max);\n            params = params.append(\"max\", timestamp_max);\n        }\n        console.log(\"params ----> \", params);\n        this.getDataEdr(params);\n    }\n    getDataEdr(params) {\n        this.EDR_SERVICE.getEdrData(params).subscribe(response => {\n            var _a;\n            this.IN_EDR_DATA = response;\n            if (this.IN_EDR_DATA.success) {\n                (_a = this.IN_EDR_DATA.body) === null || _a === void 0 ? void 0 : _a.forEach((data) => {\n                    data.created_timestamp = TimestampModule.timestampToSchedule(parseInt(data.created_timestamp));\n                });\n            }\n        });\n    }\n}\nEdrComponent.ɵfac = function EdrComponent_Factory(t) { return new (t || EdrComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EdrService)); };\nEdrComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EdrComponent, selectors: [[\"app-edr\"]], inputs: { IN_EDR_DATA: \"IN_EDR_DATA\" }, decls: 38, vars: 0, consts: [[1, \"container-fluid\", \"my-4\"], [1, \"my-5\", \"h4\"], [1, \"border\", \"border-danger\", \"p-4\", \"rounded\", \"w-50\"], [1, \"md-form\", \"form-group\"], [\"for\", \"id\"], [\"type\", \"text\", \"id\", \"id\", \"placeholder\", \"Id of the computer\", 1, \"form-control\"], [\"for\", \"data_type\"], [\"type\", \"text\", \"id\", \"data_type\", \"placeholder\", \"data to get\", 1, \"form-control\"], [\"for\", \"computer_id\"], [\"type\", \"text\", \"id\", \"computer_id\", \"placeholder\", \"Id of the computer\", 1, \"form-control\"], [\"for\", \"min_date\"], [\"type\", \"date\", \"id\", \"min_date\", \"formControlName\", \"min_date\", 1, \"form-control\"], [\"type\", \"time\", \"id\", \"min_time\", \"formControlName\", \"min_time\", 1, \"form-control\"], [\"for\", \"max_date\"], [\"type\", \"date\", \"id\", \"max_date\", \"formControlName\", \"max_date\", 1, \"form-control\"], [\"type\", \"time\", \"id\", \"max_time\", \"formControlName\", \"max_time\", 1, \"form-control\"], [1, \"action-buttons\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mb-3\", 3, \"click\"], [1, \"my-4\"]], template: function EdrComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n        i0.ɵɵtext(2, \"Sp\\u00E9cifier le poste \\u00E0 v\\u00E9rifier (si vide, v\\u00E9rification de tous les postes) :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"label\", 4)(6, \"strong\");\n        i0.ɵɵtext(7, \"Id\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\", 6)(11, \"strong\");\n        i0.ɵɵtext(12, \"data_type\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 3)(15, \"label\", 8)(16, \"strong\");\n        i0.ɵɵtext(17, \"Computer id\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(18, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 3)(20, \"label\", 10)(21, \"strong\");\n        i0.ɵɵtext(22, \"min date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(23, \"input\", 11)(24, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 3)(26, \"label\", 13)(27, \"strong\");\n        i0.ɵɵtext(28, \"max date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(29, \"input\", 14)(30, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵelementStart(32, \"div\", 16)(33, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function EdrComponent_Template_button_click_33_listener() { return ctx.onSubmitFormEdr(); });\n        i0.ɵɵtext(34, \"Submit\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(35, \"hr\", 18);\n        i0.ɵɵelementStart(36, \"h4\", 1);\n        i0.ɵɵtext(37, \"R\\u00E9sultats :\");\n        i0.ɵɵelementEnd()();\n    } }, directives: [i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZHIuY29tcG9uZW50LnNjc3MifQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}